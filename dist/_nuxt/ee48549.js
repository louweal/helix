(window.webpackJsonp=window.webpackJsonp||[]).push([[33,6],{350:function(t,e,r){var content=r(355);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(33).default)("c5a3a2de",content,!0,{sourceMap:!1})},353:function(t,e,r){"use strict";r.r(e);r(344);var n={props:{dir:{type:String,default:""},gap:{type:Number,default:1},forceDir:{type:Boolean,default:!1}}},o=(r(354),r(13)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"stack",class:[!!t.dir&&"stack--"+t.dir,!!t.forceDir&&"stack--forced"],style:"--gap: "+t.gap+"rem"},[t._t("default")],2)}),[],!1,null,"89936964",null);e.default=component.exports},354:function(t,e,r){"use strict";r(350)},355:function(t,e,r){var n=r(32)(!1);n.push([t.i,".stack[data-v-89936964]{display:flex;flex-wrap:nowrap;margin-left:calc(var(--gap)*-1);align-items:center}.stack>*[data-v-89936964],.stack[data-v-89936964]> *{margin-left:var(--gap);flex-grow:0;flex-shrink:0}.stack--vertical[data-v-89936964]{flex-direction:column;margin-left:0;margin-top:calc(var(--gap)*-1)}.stack--vertical>*[data-v-89936964],.stack--vertical[data-v-89936964]> *{margin-top:calc(var(--gap)*1)!important;margin-left:0}",""]),t.exports=n},396:function(t,e,r){var content=r(417);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(33).default)("1eb14e03",content,!0,{sourceMap:!1})},397:function(t,e,r){var content=r(419);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(33).default)("fffb4204",content,!0,{sourceMap:!1})},407:function(t,e,r){var content=r(453);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(33).default)("6c61d66c",content,!0,{sourceMap:!1})},416:function(t,e,r){"use strict";r(396)},417:function(t,e,r){var n=r(32)(!1);n.push([t.i,".categories[data-v-692fe358]{padding:4px;overflow-x:scroll;scrollbar-width:none;-ms-overflow-style:none;background-color:#fff;border-radius:6px;box-shadow:0 0 6px 0 rgba(0,0,0,.09);display:flex}.categories[data-v-692fe358]::-webkit-scrollbar{width:0!important;height:0!important;background:transparent}.overflow-margin-right[data-v-692fe358]{height:100%;width:4px}",""]),t.exports=n},418:function(t,e,r){"use strict";r(397)},419:function(t,e,r){var n=r(32)(!1);n.push([t.i,".add-button[data-v-70882368]{position:absolute;right:0;top:0;z-index:2;background-color:#fff;border-radius:7px;width:48px;height:48px;border:6px solid #fff}.add-button[data-v-70882368],.add-button__inner[data-v-70882368]{display:flex;justify-content:center;align-items:center}.add-button__inner[data-v-70882368]{background-color:#339a69;width:40px;height:40px;border-radius:7px}.add-button__inner[data-v-70882368]  a{font-size:33px;color:#fff;font-weight:400}",""]),t.exports=n},420:function(t,e,r){"use strict";r.r(e);var n={data:function(){return{prevPosY:0,seller:!0}},props:{fixed:{type:Boolean,default:!1}},computed:{},mounted:function(){this.$refs.header.classList.contains("header--fixed")&&(window.addEventListener("scroll",this.aosHeader),this.setPushdownHeight(),window.addEventListener("resize",this.setPushdownHeight))},beforeDestroy:function(){window.removeEventListener("resize",this.setPushdownHeight)},methods:{setPushdownHeight:function(){this.$refs.header;this.$refs.pushdown.style.height="58px"},aosHeader:function(){var header=this.$refs.header,t=window.pageYOffset,e=t>this.prevPosY?"down":"up";header&&("down"===e&&t>header.offsetHeight&&!header.classList.contains("move-up")&&(header.classList.remove("move-down"),header.classList.add("move-up")),"up"!==e||header.classList.contains("move-down")||(header.classList.remove("move-up"),header.classList.add("move-down")),this.prevPosY=window.scrollY)}}},o=(r(452),r(13)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("span",{attrs:{id:"header"}}),t._v(" "),r("header",{ref:"header",staticClass:"header",class:!!t.fixed&&"header--fixed"},[r("div",{staticClass:"container container--wide"},[t._t("default",(function(){return[r("categories"),t._v(" "),r("add-button")]}))],2)]),t._v(" "),r("div",{ref:"pushdown"})])}),[],!1,null,"7396ba6a",null);e.default=component.exports;installComponents(component,{Categories:r(423).default,AddButton:r(424).default,Header:r(420).default})},423:function(t,e,r){"use strict";r.r(e);r(50),r(20);var n={data:function(){return{activeCat:-1}},computed:{contracts:function(){return this.$store.state.contracts},categories:function(){return this.$store.state.categories},myCategories:function(){var t=this;return this.categories.filter((function(e){return t.numContracts(e.ID)>0}))},me:function(){return this.$store.state.currentAccount.accountId},maxWidth:function(){return this.$store.state.currentAccount.seller?"calc(100% - 54px)":"100%"}},created:function(){this.activeCat,this.$store.state.currentCategory},methods:{numContracts:function(t){var e=this;return this.contracts.filter((function(t){return t.owner===e.me})).filter((function(e){return+e.category==+t})).length},setActiveCat:function(t){this.activeCat=t,this.$store.commit("setCurrentCategory",t)}}},o=(r(416),r(13)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.myCategories.length>0?r("div",{staticClass:"categories",style:{maxWidth:t.maxWidth}},[r("Stack",[r("Button",{attrs:{active:-1==+t.$store.state.currentCategory},nativeOn:{click:function(e){return t.setActiveCat(-1)}}},[t._v("\n      All contracts\n    ")]),t._v(" "),t._l(t.myCategories,(function(e,n){return r("Button",{key:n,attrs:{active:e.ID===t.$store.state.currentCategory},nativeOn:{click:function(r){return t.setActiveCat(e.ID)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])}))],2),t._v(" "),r("div",{staticClass:"overflow-margin-right"})],1):t._e()}),[],!1,null,"692fe358",null);e.default=component.exports;installComponents(component,{Button:r(356).default,Stack:r(353).default})},424:function(t,e,r){"use strict";r.r(e);var n={props:{to:{type:[String,Boolean],default:"/"}}},o=(r(418),r(13)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.$store.state.currentAccount.seller?r("div",{staticClass:"add-button"},[r("div",{staticClass:"add-button__inner"},[r("nuxt-link",{attrs:{to:"/new"}},[t._v(" + ")])],1)]):t._e()}),[],!1,null,"70882368",null);e.default=component.exports},452:function(t,e,r){"use strict";r(407)},453:function(t,e,r){var n=r(32)(!1);n.push([t.i,".move-up[data-v-7396ba6a]{transform:translateY(-100%)}.move-down[data-v-7396ba6a]{transform:translateY(0)}.header[data-v-7396ba6a]{top:0;flex-direction:row;align-items:center;width:100%;background-color:transparent;z-index:11;transition:transform .4s ease-in-out;will-change:transform;padding:6px 4px}.header--fixed[data-v-7396ba6a]{position:fixed}",""]),t.exports=n},551:function(t,e,r){"use strict";r.r(e);var n=r(4),o=(r(50),r(20),r(41),{data:function(){return{allContracts:[]}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.$store.state.currentAccount.ID){e.next=3;break}return console.log("not signed in yet"),e.abrupt("return");case 3:if(void 0===t.$store.state.currentAccount.ID||!1!==t.$store.state.currentAccount.fetched){e.next=9;break}return e.next=6,t.$store.dispatch("getSmartContracts");case 6:e.sent,e.next=10;break;case 9:console.log("already fetched");case 10:case"end":return e.stop()}}),e)})))()},computed:{contracts:function(){return this.$store.state.contracts},me:function(){return this.$store.state.currentAccount.accountId},isShop:function(){return!0===this.$store.state.currentAccount.seller},myContracts:function(){var t=this,e=this.contracts.filter((function(e){return e.owner===t.me}));return-1===this.$store.state.currentCategory?e:e.filter((function(e){return+e.category===t.$store.state.currentCategory}))},selectedContracts:function(){return this.isShop?this.myContracts.filter((function(t){return 0===t.state})):this.myContracts.filter((function(t){return 2===t.state||3===t.state}))},pendingContracts:function(){return this.isShop?[]:this.myContracts.filter((function(t){return 1===t.state}))}},methods:{doTransfer:function(){this.isShop?this.$store.commit("sellContract",{ID:+this.contract.ID,buyer:+this.buyer}):this.contract.owner!==this.buyer&&this.$store.commit("transferContract",{ID:+this.contract.ID,seller:+this.me,buyer:+this.buyer}),this.$store.commit("setAction","transferSuccess"),this.transferred=!0,this.toggleDrawer("#transfer-drawer"),this.$router.push({path:"/"})},doDelete:function(){this.$store.commit("deleteContract",this.contract),this.$store.commit("setAction","deleteSuccess"),this.toggleDrawer("#delete-drawer"),this.$router.push({path:"/"})}}}),c=r(13),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page"},[r("Header",{attrs:{fixed:""}}),t._v(" "),r("div",{staticClass:"container container--wide"},[t.pendingContracts.length>0?[r("heading",{staticClass:"bottom-xs-0",attrs:{size:"l",level:"2"}},[t._v("\n        Pending contracts\n      ")]),t._v(" "),r("div",{staticClass:"grid"},t._l(t.pendingContracts.slice(0,2).reverse(),(function(t,e){return r("div",{key:e,staticClass:"col-xs-24"},[r("contract-card",{attrs:{data:t,pending:""}})],1)})),0)]:t._e(),t._v(" "),t.selectedContracts.length>0?[r("heading",{staticClass:"bottom-xs-0",attrs:{size:"l",level:"2"}},[t._v("\n        "+t._s(t.isShop?"Created contracts":"Active contracts")+"\n      ")]),t._v(" "),r("div",{staticClass:"grid"},t._l(t.selectedContracts.slice().reverse(),(function(t,e){return r("div",{key:e,staticClass:"col-xs-24"},[r("contract-card",{attrs:{data:t}})],1)})),0)]:t._e(),t._v(" "),r("notification",[r("p",[r("a",{attrs:{target:"_blank",href:"https://testnet.dragonglass.me/hedera/accounts/"+t.$store.state.currentAccount.accountId}},[t._v("\n          Inspect "+t._s(t.$store.state.currentAccount.accountId)+" on DragonGlass\n        ")])])])],2),t._v(" "),0!==t.myContracts.length||t.$store.state.waiting?t._e():r("div",{staticClass:"page--placeholder"},[r("div",[r("p",{staticClass:"bottom-xs-2"},[t._v("No contracts found")]),t._v(" "),t.$store.state.currentAccount.seller?t._e():[r("Button",{staticClass:"button--secondary",attrs:{to:"/login"}},[t._v("\n          Switch account\n        ")])],t._v(" "),t.$store.state.currentAccount.seller?r("Button",{staticClass:"button--primary",attrs:{to:"/new"}},[t._v("Add contract")]):t._e()],2)])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Header:r(420).default,Heading:r(343).default,ContractCard:r(489).default,Notification:r(230).default,Button:r(356).default})}}]);